CREATE TABLE users 
(
id INT NOT NULL AUTO_INCREMENT,
username varchar(30) NOT NULL,
hashed_password varchar(255) NOT NULL,
PRIMARY KEY (id)
);

CREATE TABLE requests 
(
id INT NOT NULL AUTO_INCREMENT,
travel_time TIMESTAMP NOT NULL,
start_id INT NOT NULL,
dest_id INT NOT NULL,
time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
remark varchar(200) DEFAULT NULL
PRIMARY KEY (id),
FOREIGN KEY (start_id) 
REFERENCES places(id)
FOREIGN KEY (dest_id) 
REFERENCES places(id) 
)

CREATE TABLE places 
(
id INT NOT NULL AUTO_INCREMENT,
name varchar(30) NOT NULL,
lat DOUBLE NOT NULL,
lon DOUBLE NOT NULL
PRIMARY KEY (id)
)

CREATE TABLE requests-users
(
request_id INT NOT NULL,
user_id INT NOT NULL,
FOREIGN KEY (request_id) 
REFERENCES requests(id) 
ON DELETE CASCADE 
ON UPDATE CASCADE,
FOREIGN KEY (user_id) 
REFERENCES users(id) 
ON DELETE CASCADE 
ON UPDATE CASCADE
)

CREATE TABLE messages
(
id INT NOT NULL AUTO_INCREMENT,
content TEXT,
from_id INT NOT NULL,
to_id INT NOT NULL,
sent_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
PRIMARY KEY (id),
FOREIGN KEY (from_id) 
REFERENCES users(id) 
ON DELETE CASCADE 
ON UPDATE CASCADE,
FOREIGN KEY (to_id) 
REFERENCES users(id) 
ON DELETE CASCADE 
ON UPDATE CASCADE
)

